; name: polybar config

[colors]
fg = ${xrdb:color15}
bg = ${xrdb:color0}

[bar/top]
width = 100%
height = 30
offset-x = 0%
offset-y = 0%

background = ${colors.bg}
foreground = ${colors.fg}

font-0 = xft:Andale Mono:size=10:;0

line-size = 4

modules-left = audiosource mpd
modules-center = i3
modules-right = date

;TODO tray
;tray-position = right
;tray-padding = 2
;tray-background = ${xrdb.color0}
;tray-transparent = false
;tray-detached = false

spacing = 1
padding-left = 0
padding-right = 0
module-margin-left = 2
module-margin-right = 2

[module/i3]
type = internal/i3
strip-wsnumbers = true
enable-click = false
index-sort = true
format = <label-state> <label-mode>

;unfocused workspace
label-unfocused = "%index%"
;label-unfocused-foreground = ${colors.fg}
;label-unfocused-background = ${colors.bg}
label-unfocused-padding = 2
label-unfocused-underline = ${xrdb:color8}

;focused workspace
label-focused = "%index%"
;label-focused-foreground = ${colors.fg}
;label-focused-background = ${colors.bg}
label-focused-padding = 2
label-focused-underline = ${colors.fg}


[module/mpd]
type = internal/mpd

host = 0.0.0.0
port = 6600
interval = 2

format-online = <label-time> <label-song>
format-online-underline = ${xrdb:color1}

label-song = "%artist% - %title%"
label-offline = "MPD OFFLINE"

;bar-progress-width = 30
;bar-progress-indicator = o
;bar-progress-fill = -
;bar-progress-empty = -


[module/audiosource]
type = custom/script

;TODO - Make this less hideous
exec = echo $(audiosource | audiolist) $(amixer sget Master | gawk '/(%)/ {print $5}' | grep -m 1 "%")
interval = 1

format = <label>
format-underline = ${xrdb:color4}
format-padding = 3


[module/date]
type = internal/date
interval = 5

date = %I:%M    %d-%m-%Y

format-padding = 4
format-underline = ${xrdb:color10}

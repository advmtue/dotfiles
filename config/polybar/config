; polybar config

[colors]
fg = ${xrdb:color15}
bg = ${xrdb:color0}

[bar/main]
monitor = DP-1
width = 100%
height = 28
offset-x = 0%
offset-y = 0%

background = ${colors.bg}
foreground = ${colors.fg}

font-0 = "Roboto Mono:style=Regular:size=10"
font-1 = "Font Awesome 5 Free:size=10:style=Regular"
font-2 = "Font Awesome 5 Brands:size=10"
font-3 = "Font Awesome 5 Free:size=10:style=Solid"

line-size = 4

modules-left = audiosource mpd
modules-center = i3
modules-right = date

;TODO tray
tray-position = right
tray-padding = 8

padding-left = 2
module-margin-left = 1
module-margin-right = 1

[bar/extra]
monitor = HDMI-1
width = 100%
height = 28
offset-x = 0%
offset-y = 0%

background = ${colors.bg}
foreground = ${colors.fg}

font-0 = "Roboto Mono:style=Regular:size=10"
font-1 = "Font Awesome 5 Free:size=10:style=Regular"
font-2 = "Font Awesome 5 Brands:size=10"
font-3 = "Font Awesome 5 Free:size=10:style=Solid"

line-size = 4

modules-center = i3

padding-left = 2
module-margin-left = 1
module-margin-right = 1

[module/i3]
pin-workspaces = true
type = internal/i3
strip-wsnumbers = true
enable-click = false
index-sort = true
format = <label-state> <label-mode>

;unfocused workspace
label-unfocused = "%index%"
label-unfocused-foreground = ${xrdb:color8}
label-unfocused-padding = 2
label-unfocused-underline = ${xrdb:color8}

;visible workspace
label-visible = "%index%"
label-visible-foreground = ${xrdb:color8}
label-visible-padding = 2
label-visible-underline = ${colors.fg}

;focused workspace
label-focused = "%index%"
label-focused-padding = 2
label-focused-underline = ${colors.fg}

;urgent workspace
label-urgent = "%index%"
label-urgent-padding = 2
label-urgent-underline = ${xrdb:color9}


[module/mpd]
type = internal/mpd

host = 0.0.0.0
port = 6600
interval = 2

format-online =   <label-time> <label-song>
format-online-underline = ${xrdb:color1}

label-song = "%artist% - %title%"
label-time = "%elapsed%/%total%"

;bar-progress-width = 30
;bar-progress-indicator = o
;bar-progress-fill = -
;bar-progress-empty = -


[module/audiosource]
type = custom/script

;TODO - Make this less hideous
exec = echo $(audiosource | audiolist) $(amixer sget Master | gawk '/(%)/ {print $5}' | grep -m 1 "%")
interval = 1

format = <label>
format-underline = ${xrdb:color4}

click-left = audiorefresh


[module/date]
type = internal/date
interval = 5

date = " %I:%M     %d-%m-%Y"

format-underline = ${xrdb:color10}
